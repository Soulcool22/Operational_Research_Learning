# å¤§è§„æ¨¡ä¼˜åŒ–ï½œå¤šäº§å“ç”Ÿäº§è®¡åˆ’é—®é¢˜

## é—®é¢˜èƒŒæ™¯

å·¥å‚æœ‰50ç§äº§å“å¯ä»¥ç”Ÿäº§ï¼Œä½†å—åˆ°20ç§èµ„æºï¼ˆå¦‚åŸææ–™ã€è®¾å¤‡æ—¶é—´ã€äººå·¥ç­‰ï¼‰çš„é™åˆ¶ã€‚æ¯ç§äº§å“æ¶ˆè€—ä¸åŒçš„èµ„æºï¼Œå¸¦æ¥ä¸åŒçš„åˆ©æ¶¦ã€‚é—®é¢˜æ˜¯ï¼š**åœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œç”Ÿäº§å¤šå°‘æ•°é‡çš„æ¯ç§äº§å“ï¼Œæ‰èƒ½è·å¾—æœ€å¤§åˆ©æ¶¦ï¼Ÿ**

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¤§è§„æ¨¡çº¿æ€§è§„åˆ’é—®é¢˜ï¼Œæ¯”å°è§„æ¨¡é—®é¢˜æ›´æ¥è¿‘çœŸå®å·¥å‚çš„å¤æ‚åº¦ã€‚

## æ ¸å¿ƒä»£ç å®ç°

### 1. æ•°æ®ç”Ÿæˆå‡½æ•°ï¼š`generate_production_data()`

**ä½œç”¨**ï¼šåˆ›å»ºæ¨¡æ‹Ÿçš„å·¥å‚æ•°æ®ï¼ŒåŒ…æ‹¬äº§å“åˆ©æ¶¦ã€èµ„æºéœ€æ±‚å’Œèµ„æºå®¹é‡ã€‚

**å…³é”®ä»£ç **ï¼š

```python
def generate_production_data(self, n_products=50, n_resources=20):
    # äº§å“åç§°ï¼šäº§å“_01, äº§å“_02, ..., äº§å“_50
    products = [f'äº§å“_{i+1:02d}' for i in range(n_products)]
  
    # åˆ©æ¶¦æ•°æ®ï¼šåŸºäºæ­£æ€åˆ†å¸ƒç”Ÿæˆï¼Œæ¨¡æ‹ŸçœŸå®æƒ…å†µ
    profit = np.random.normal(100, 30, n_products)  # å¹³å‡100å…ƒï¼Œæ ‡å‡†å·®30
    profit = np.maximum(profit, 10)  # ç¡®ä¿åˆ©æ¶¦ä¸ä½äº10å…ƒ
  
    # èµ„æºéœ€æ±‚çŸ©é˜µï¼šæ¯ä¸ªäº§å“åªç”¨éƒ¨åˆ†èµ„æºï¼ˆç¨€ç–çŸ©é˜µï¼‰
    resource_matrix = np.zeros((n_products, n_resources))
    for i in range(n_products):
        n_used_resources = random.randint(3, 8)  # æ¯ä¸ªäº§å“ç”¨3-8ç§èµ„æº
        used_resources = random.sample(range(n_resources), n_used_resources)
        for j in used_resources:
            resource_matrix[i][j] = random.uniform(0.5, 5.0)  # éœ€æ±‚é‡0.5-5.0
```

**é€šä¿—è§£é‡Š**ï¼š

- `np.random.normal(100, 30, n_products)`ï¼šç”Ÿæˆ50ä¸ªåˆ©æ¶¦æ•°å€¼ï¼Œå¤§éƒ¨åˆ†åœ¨70-130å…ƒä¹‹é—´
- `random.randint(3, 8)`ï¼šæ¯ä¸ªäº§å“éšæœºä½¿ç”¨3åˆ°8ç§èµ„æºï¼Œä¸æ˜¯å…¨éƒ¨20ç§
- `random.uniform(0.5, 5.0)`ï¼šæ¯å•ä½äº§å“æ¶ˆè€—0.5åˆ°5.0å•ä½çš„èµ„æº

### 2. ä¼˜åŒ–æ±‚è§£å‡½æ•°ï¼š`large_scale_linear_programming()`

**ä½œç”¨**ï¼šå»ºç«‹æ•°å­¦æ¨¡å‹å¹¶æ±‚è§£æœ€ä¼˜ç”Ÿäº§æ–¹æ¡ˆã€‚

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šåˆ›å»ºä¼˜åŒ–é—®é¢˜**

```python
prob = pulp.LpProblem("å¤§è§„æ¨¡ç”Ÿäº§è®¡åˆ’", pulp.LpMaximize)
```

- `LpProblem()`ï¼šåˆ›å»ºä¸€ä¸ªä¼˜åŒ–é—®é¢˜
- `LpMaximize`ï¼šç›®æ ‡æ˜¯æœ€å¤§åŒ–ï¼ˆåˆ©æ¶¦ï¼‰

**æ­¥éª¤2ï¼šå®šä¹‰å†³ç­–å˜é‡**

```python
x = [pulp.LpVariable(f"x_{i}", lowBound=0) for i in range(len(products))]
```

- `LpVariable()`ï¼šåˆ›å»ºå†³ç­–å˜é‡ï¼Œä»£è¡¨æ¯ç§äº§å“çš„äº§é‡
- `lowBound=0`ï¼šäº§é‡ä¸èƒ½ä¸ºè´Ÿæ•°

**æ­¥éª¤3ï¼šè®¾ç½®ç›®æ ‡å‡½æ•°**

```python
prob += pulp.lpSum([profit[i] * x[i] for i in range(len(products))])
```

- `lpSum()`ï¼šæ±‚å’Œå‡½æ•°ï¼Œè®¡ç®—æ€»åˆ©æ¶¦
- `profit[i] * x[i]`ï¼šç¬¬iç§äº§å“çš„åˆ©æ¶¦ Ã— äº§é‡

**æ­¥éª¤4ï¼šæ·»åŠ èµ„æºçº¦æŸ**

```python
for j in range(len(resources)):
    prob += pulp.lpSum([resource_matrix[i][j] * x[i] 
                       for i in range(len(products))]) <= capacity[j]
```

- å¯¹æ¯ç§èµ„æºjï¼Œæ‰€æœ‰äº§å“æ¶ˆè€—çš„æ€»é‡ä¸èƒ½è¶…è¿‡èµ„æºå®¹é‡
- `resource_matrix[i][j]`ï¼šäº§å“iå¯¹èµ„æºjçš„éœ€æ±‚é‡

**æ­¥éª¤5ï¼šæ±‚è§£**

```python
prob.solve(pulp.PULP_CBC_CMD(msg=0))
```

- `solve()`ï¼šè°ƒç”¨æ±‚è§£å™¨æ‰¾åˆ°æœ€ä¼˜è§£
- `PULP_CBC_CMD(msg=0)`ï¼šä½¿ç”¨CBCæ±‚è§£å™¨ï¼Œä¸æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

### 3. ç»“æœåˆ†æå‡½æ•°

**è·å–è§£çš„å€¼**ï¼š

```python
solution = [x[i].varValue if x[i].varValue else 0 for i in range(len(products))]
max_profit = pulp.value(prob.objective)
```

- `x[i].varValue`ï¼šè·å–å˜é‡x[i]çš„æœ€ä¼˜å€¼ï¼ˆäº§é‡ï¼‰
- `pulp.value(prob.objective)`ï¼šè·å–ç›®æ ‡å‡½æ•°çš„æœ€ä¼˜å€¼ï¼ˆæœ€å¤§åˆ©æ¶¦ï¼‰

**èµ„æºåˆ©ç”¨ç‡è®¡ç®—**ï¼š

```python
resource_usage = np.zeros(len(resources))
for j in range(len(resources)):
    resource_usage[j] = sum(resource_matrix[i][j] * solution[i] 
                          for i in range(len(products)))
utilization_rates = resource_usage / capacity * 100
```

## è¿è¡Œæ–¹æ³•

### æ–¹æ³•1ï¼šç›´æ¥è¿è¡Œæ•´ä¸ªæ¼”ç¤º

```bash
cd å¤§è§„æ¨¡ä¼˜åŒ–
python large_scale_optimization.py
```

### æ–¹æ³•2ï¼šåªè¿è¡Œç”Ÿäº§è®¡åˆ’éƒ¨åˆ†

```python
from large_scale_optimization import LargeScaleOptimization
demo = LargeScaleOptimization()
demo.large_scale_linear_programming()
```

## è¾“å‡ºç»“æœè¯´æ˜

è¿è¡Œåä¼šçœ‹åˆ°è¾“å‡ºï¼š

```
âœ… æ±‚è§£ç»“æœ:
  æ±‚è§£æ—¶é—´: 0.02 ç§’
  æœ€å¤§åˆ©æ¶¦: 97,662.90 å…ƒ
  ç”Ÿäº§äº§å“æ•°: 10/50
  å¹³å‡äº§é‡: 95.38 å•ä½

ğŸ“Š èµ„æºåˆ©ç”¨ç‡ç»Ÿè®¡:
  å¹³å‡åˆ©ç”¨ç‡: 74.9%
  æœ€é«˜åˆ©ç”¨ç‡: 100.0%
  æœ€ä½åˆ©ç”¨ç‡: 18.7%
  æ»¡è´Ÿè·èµ„æºæ•°: 10
```

**ç»“æœè§£è¯»**ï¼š

- **ç”Ÿäº§äº§å“æ•° 10/50**ï¼š50ç§äº§å“ä¸­ï¼Œåªæœ‰10ç§å€¼å¾—ç”Ÿäº§
- **æ»¡è´Ÿè·èµ„æºæ•° 10**ï¼š10ç§èµ„æºä¸­ï¼Œè¢«å®Œå…¨ç”¨å®Œï¼ˆ
- **å¹³å‡åˆ©ç”¨ç‡ 78.5%**ï¼šèµ„æºæ•´ä½“åˆ©ç”¨æ•ˆç‡è¾ƒé«˜

## å¯è§†åŒ–å›¾è¡¨

ç¨‹åºä¼šç”Ÿæˆ `large_scale_results.png`ï¼ŒåŒ…å«ï¼š

1. **ç”Ÿäº§è®¡åˆ’æŸ±çŠ¶å›¾**ï¼šæ˜¾ç¤ºæ¯ç§äº§å“çš„æœ€ä¼˜äº§é‡
2. **èµ„æºåˆ©ç”¨ç‡çƒ­åŠ›å›¾**ï¼šæ˜¾ç¤ºå“ªäº›èµ„æºæ˜¯ç“¶é¢ˆ
3. **åˆ©æ¶¦åˆ†å¸ƒå›¾**ï¼šæ˜¾ç¤ºä¸åŒåˆ©æ¶¦æ°´å¹³çš„äº§å“æ•°é‡

---

# å…¨å›½ç‰©æµç½‘ç»œä¼˜åŒ–é—®é¢˜

## é—®é¢˜èƒŒæ™¯

å…¨å›½æœ‰15ä¸ªä¾›åº”å•†ï¼ˆå¦‚å·¥å‚ã€ä»“åº“ï¼‰å’Œ25ä¸ªå®¢æˆ·ï¼ˆå¦‚é›¶å”®å•†ã€åˆ†é”€å•†ï¼‰ï¼Œéœ€è¦å†³å®šä»å“ªä¸ªä¾›åº”å•†å‘å“ªä¸ªå®¢æˆ·å‘è´§ï¼Œä»¥åŠå‘è´§æ•°é‡ï¼Œç›®æ ‡æ˜¯**åœ¨æ»¡è¶³ä¾›éœ€å¹³è¡¡çš„å‰æä¸‹ï¼Œæœ€å°åŒ–æ€»è¿è¾“æˆæœ¬**ã€‚

è¿™æ˜¯ç»å…¸çš„è¿è¾“é—®é¢˜ï¼Œä½†è§„æ¨¡æ›´å¤§ï¼Œæ›´æ¥è¿‘çœŸå®çš„å…¨å›½ç‰©æµç½‘ç»œã€‚

## æ ¸å¿ƒä»£ç å®ç°

### 1. ç‰©æµç½‘ç»œæ•°æ®ç”Ÿæˆï¼š`generate_logistics_network()`

**ä½œç”¨**ï¼šåˆ›å»ºæ¨¡æ‹Ÿçš„å…¨å›½ç‰©æµç½‘ç»œï¼ŒåŒ…æ‹¬ä¾›åº”å•†ã€å®¢æˆ·ã€ä¾›éœ€é‡å’Œè¿è¾“æˆæœ¬ã€‚

**å…³é”®ä»£ç **ï¼š

```python
def generate_logistics_network(self, n_suppliers=15, n_customers=25):
    # ä½¿ç”¨çœŸå®åŸå¸‚åç§°
    cities = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'å¤©æ´¥', 'é‡åº†', 'è‹å·', 'æˆéƒ½', ...]
  
    # éšæœºé€‰æ‹©ä¾›åº”å•†å’Œå®¢æˆ·åŸå¸‚
    all_cities = random.sample(cities, n_suppliers + n_customers)
    suppliers = all_cities[:n_suppliers]
    customers = all_cities[n_suppliers:]
  
    # ä¾›åº”é‡ï¼š500-2000å¨
    supply = np.random.uniform(500, 2000, n_suppliers)
  
    # éœ€æ±‚é‡ï¼š200-800å¨ï¼Œæ€»éœ€æ±‚ç•¥å°äºæ€»ä¾›åº”
    demand = np.random.uniform(200, 800, n_customers)
    demand = demand * (sum(supply) * 0.95) / sum(demand)  # è°ƒæ•´ä¸ºå¹³è¡¡
  
    # è¿è¾“æˆæœ¬ = è·ç¦» Ã— å•ä½æˆæœ¬ + å›ºå®šæˆæœ¬
    distance_matrix = np.random.uniform(200, 2000, (n_suppliers, n_customers))
    cost_matrix = distance_matrix * 0.8 + 50  # 0.8å…ƒ/å…¬é‡Œ/å¨ + 50å…ƒå›ºå®šæˆæœ¬
```

**é€šä¿—è§£é‡Š**ï¼š

- `random.sample(cities, n_suppliers + n_customers)`ï¼šä»40ä¸ªåŸå¸‚ä¸­éšæœºé€‰æ‹©40ä¸ªä½œä¸ºä¾›åº”å•†å’Œå®¢æˆ·
- `demand * (sum(supply) * 0.95) / sum(demand)`ï¼šç¡®ä¿æ€»éœ€æ±‚æ¯”æ€»ä¾›åº”å°‘5%ï¼Œä¿è¯é—®é¢˜æœ‰è§£
- `distance_matrix * 0.8 + 50`ï¼šè¿è¾“æˆæœ¬åŒ…å«è·ç¦»æˆæœ¬å’Œå›ºå®šæˆæœ¬

### 2. è¿è¾“ä¼˜åŒ–æ±‚è§£ï¼š`large_scale_transportation()`

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šåˆ›å»ºè¿è¾“é—®é¢˜**

```python
prob = pulp.LpProblem("å¤§è§„æ¨¡è¿è¾“ä¼˜åŒ–", pulp.LpMinimize)
```

- `LpMinimize`ï¼šç›®æ ‡æ˜¯æœ€å°åŒ–ï¼ˆè¿è¾“æˆæœ¬ï¼‰

**æ­¥éª¤2ï¼šå®šä¹‰è¿è¾“å˜é‡**

```python
x = {}
for i in range(len(suppliers)):
    for j in range(len(customers)):
        x[i,j] = pulp.LpVariable(f"x_{i}_{j}", lowBound=0)
```

- `x[i,j]`ï¼šä»ä¾›åº”å•†iåˆ°å®¢æˆ·jçš„è¿è¾“é‡
- ä½¿ç”¨å­—å…¸å­˜å‚¨äºŒç»´å˜é‡ï¼Œæ–¹ä¾¿ç´¢å¼•

**æ­¥éª¤3ï¼šè®¾ç½®ç›®æ ‡å‡½æ•°**

```python
prob += pulp.lpSum([cost_matrix[i][j] * x[i,j] 
                   for i in range(len(suppliers)) 
                   for j in range(len(customers))])
```

- æœ€å°åŒ–æ‰€æœ‰è·¯çº¿çš„è¿è¾“æˆæœ¬æ€»å’Œ

**æ­¥éª¤4ï¼šä¾›åº”çº¦æŸ**

```python
for i in range(len(suppliers)):
    prob += pulp.lpSum([x[i,j] for j in range(len(customers))]) <= supply[i]
```

- æ¯ä¸ªä¾›åº”å•†çš„æ€»å‘è´§é‡ä¸èƒ½è¶…è¿‡å…¶ä¾›åº”èƒ½åŠ›

**æ­¥éª¤5ï¼šéœ€æ±‚çº¦æŸ**

```python
for j in range(len(customers)):
    prob += pulp.lpSum([x[i,j] for i in range(len(suppliers))]) >= demand[j]
```

- æ¯ä¸ªå®¢æˆ·çš„æ€»æ”¶è´§é‡å¿…é¡»æ»¡è¶³å…¶éœ€æ±‚

### 3. ç»“æœåˆ†æ

**è·å–è¿è¾“æ–¹æ¡ˆ**ï¼š

```python
solution_matrix = np.zeros((len(suppliers), len(customers)))
for i in range(len(suppliers)):
    for j in range(len(customers)):
        if x[i,j].varValue:
            solution_matrix[i][j] = x[i,j].varValue
```

**ç»Ÿè®¡æ´»è·ƒè·¯çº¿**ï¼š

```python
active_routes = sum(1 for i in range(len(suppliers)) 
                   for j in range(len(customers)) 
                   if solution_matrix[i][j] > 0.01)
```

---

# è½¦è¾†è·¯å¾„è§„åˆ’é—®é¢˜ (VRP)

## é—®é¢˜èƒŒæ™¯

é…é€ä¸­å¿ƒéœ€è¦ç”¨4è¾†è´§è½¦ä¸º20ä¸ªå®¢æˆ·é€è´§ï¼Œæ¯è¾†è½¦æœ‰è½½é‡é™åˆ¶ï¼Œæ¯ä¸ªå®¢æˆ·æœ‰ä¸åŒçš„éœ€æ±‚é‡ã€‚é—®é¢˜æ˜¯ï¼š**å¦‚ä½•å®‰æ’è½¦è¾†è·¯çº¿ï¼Œä½¿æ€»è¡Œé©¶è·ç¦»æœ€çŸ­ï¼ŒåŒæ—¶æ»¡è¶³è½½é‡çº¦æŸï¼Ÿ**

è¿™æ˜¯è‘—åçš„è½¦è¾†è·¯å¾„é—®é¢˜ï¼ˆVehicle Routing Problemï¼‰ï¼Œåœ¨ç‰©æµé…é€ä¸­éå¸¸é‡è¦ã€‚

## æ ¸å¿ƒä»£ç å®ç°

### 1. VRPæ•°æ®ç”Ÿæˆ

**å…³é”®ä»£ç **ï¼š

```python
def vehicle_routing_problem(self):
    # é—®é¢˜å‚æ•°
    n_customers = 20
    n_vehicles = 4
    vehicle_capacity = 100  # è½¦è¾†è½½é‡
  
    # å®¢æˆ·åæ ‡ï¼ˆä»¥é…é€ä¸­å¿ƒä¸ºåŸç‚¹ï¼‰
    depot_coord = (0, 0)
    customer_coords = [(random.uniform(-50, 50), random.uniform(-50, 50)) 
                      for _ in range(n_customers)]
  
    # å®¢æˆ·éœ€æ±‚é‡ï¼š5-25å•ä½
    demands = np.random.uniform(5, 25, n_customers)
  
    # è·ç¦»è®¡ç®—å‡½æ•°
    def calculate_distance(coord1, coord2):
        return np.sqrt((coord1[0] - coord2[0])**2 + (coord1[1] - coord2[1])**2)
```

**é€šä¿—è§£é‡Š**ï¼š

- `depot_coord = (0, 0)`ï¼šé…é€ä¸­å¿ƒä½äºåæ ‡åŸç‚¹
- `random.uniform(-50, 50)`ï¼šå®¢æˆ·éšæœºåˆ†å¸ƒåœ¨é…é€ä¸­å¿ƒå‘¨å›´100Ã—100çš„åŒºåŸŸå†…
- `calculate_distance()`ï¼šä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»å…¬å¼è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»

### 2. è´ªå¿ƒç®—æ³•æ±‚è§£VRP

**ç®—æ³•é€»è¾‘**ï¼š

```python
def solve_vrp_greedy():
    routes = [[] for _ in range(n_vehicles)]  # æ¯è¾†è½¦çš„è·¯çº¿
    route_loads = [0] * n_vehicles           # æ¯è¾†è½¦çš„è½½é‡
    unvisited = set(range(1, n_nodes))       # æœªè®¿é—®çš„å®¢æˆ·
  
    for vehicle in range(n_vehicles):
        current_pos = 0  # ä»é…é€ä¸­å¿ƒå¼€å§‹
      
        while unvisited:
            # æ‰¾åˆ°æœ€è¿‘çš„å¯è¡Œå®¢æˆ·
            best_customer = None
            best_distance = float('inf')
          
            for customer in unvisited:
                # æ£€æŸ¥è½½é‡çº¦æŸå’Œè·ç¦»
                if (route_loads[vehicle] + demands[customer-1] <= vehicle_capacity and
                    distance_matrix[current_pos][customer] < best_distance):
                    best_customer = customer
                    best_distance = distance_matrix[current_pos][customer]
          
            if best_customer is None:
                break  # å½“å‰è½¦è¾†æ— æ³•å†è£…è½½
          
            # æ·»åŠ å®¢æˆ·åˆ°è·¯çº¿
            routes[vehicle].append(best_customer)
            route_loads[vehicle] += demands[best_customer-1]
            current_pos = best_customer
            unvisited.remove(best_customer)
```

**ç®—æ³•æ­¥éª¤**ï¼š

1. **åˆå§‹åŒ–**ï¼šæ¯è¾†è½¦ä»é…é€ä¸­å¿ƒå‡ºå‘ï¼Œè½½é‡ä¸º0
2. **è´ªå¿ƒé€‰æ‹©**ï¼šå¯¹æ¯è¾†è½¦ï¼Œæ€»æ˜¯é€‰æ‹©æœ€è¿‘çš„å¯è¡Œå®¢æˆ·
3. **å¯è¡Œæ€§æ£€æŸ¥**ï¼šç¡®ä¿æ·»åŠ å®¢æˆ·åä¸è¶…è¿‡è½½é‡é™åˆ¶
4. **æ›´æ–°çŠ¶æ€**ï¼šæ›´æ–°è½¦è¾†ä½ç½®ã€è½½é‡å’Œæœªè®¿é—®å®¢æˆ·åˆ—è¡¨
5. **è¿”å›é…é€ä¸­å¿ƒ**ï¼šæ¯è¾†è½¦å®Œæˆé…é€åè¿”å›é…é€ä¸­å¿ƒ

---

# æŠ•èµ„ç»„åˆä¼˜åŒ–é—®é¢˜

## é—®é¢˜èƒŒæ™¯

æŠ•èµ„è€…æœ‰100ä¸‡å…ƒèµ„é‡‘ï¼Œå¯ä»¥æŠ•èµ„30åªè‚¡ç¥¨ï¼Œæ¯åªè‚¡ç¥¨æœ‰ä¸åŒçš„é¢„æœŸæ”¶ç›Šå’Œé£é™©ã€‚é—®é¢˜æ˜¯ï¼š**å¦‚ä½•åˆ†é…æŠ•èµ„æ¯”ä¾‹ï¼Œåœ¨è¾¾åˆ°10%ç›®æ ‡æ”¶ç›Šç‡çš„å‰æä¸‹ï¼Œä½¿æŠ•èµ„é£é™©æœ€å°ï¼Ÿ**

è¿™æ˜¯ç°ä»£æŠ•èµ„ç»„åˆç†è®ºçš„ç»å…¸åº”ç”¨ï¼Œç”±è¯ºè´å°”å¥–å¾—ä¸»é©¬ç§‘ç»´èŒ¨æå‡ºã€‚

## æ ¸å¿ƒä»£ç å®ç°

### 1. é‡‘èæ•°æ®ç”Ÿæˆ

**å…³é”®ä»£ç **ï¼š

```python
def portfolio_optimization(self):
    # è‚¡ç¥¨æ•°æ®
    n_stocks = 30
    stocks = [f'è‚¡ç¥¨_{i+1:02d}' for i in range(n_stocks)]
  
    # é¢„æœŸæ”¶ç›Šç‡ï¼šåŸºäºæ­£æ€åˆ†å¸ƒï¼Œå¹³å‡8%
    expected_returns = np.random.normal(0.08, 0.05, n_stocks)
    expected_returns = np.maximum(expected_returns, 0.01)  # ç¡®ä¿ä¸ºæ­£
  
    # é£é™©ï¼ˆæ ‡å‡†å·®ï¼‰ï¼š10%-40%
    risks = np.random.uniform(0.1, 0.4, n_stocks)
  
    # æŠ•èµ„çº¦æŸ
    total_budget = 1000000    # 100ä¸‡å…ƒ
    min_weight = 0.01         # æœ€å°æƒé‡1%
    max_weight = 0.15         # æœ€å¤§æƒé‡15%
    target_return = 0.10      # ç›®æ ‡æ”¶ç›Šç‡10%
```

**é€šä¿—è§£é‡Š**ï¼š

- `np.random.normal(0.08, 0.05, n_stocks)`ï¼šè‚¡ç¥¨æ”¶ç›Šç‡å›´ç»•8%æ­£æ€åˆ†å¸ƒ
- `min_weight = 0.01`ï¼šæ¯åªè‚¡ç¥¨è‡³å°‘æŠ•èµ„1%ï¼Œé¿å…è¿‡åº¦åˆ†æ•£
- `max_weight = 0.15`ï¼šæ¯åªè‚¡ç¥¨æœ€å¤šæŠ•èµ„15%ï¼Œæ§åˆ¶é›†ä¸­åº¦é£é™©

### 2. æŠ•èµ„ç»„åˆä¼˜åŒ–æ¨¡å‹

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šåˆ›å»ºä¼˜åŒ–é—®é¢˜**

```python
prob = pulp.LpProblem("æŠ•èµ„ç»„åˆä¼˜åŒ–", pulp.LpMinimize)
```

- ç›®æ ‡æ˜¯æœ€å°åŒ–æŠ•èµ„ç»„åˆé£é™©

**æ­¥éª¤2ï¼šå®šä¹‰æƒé‡å˜é‡**

```python
weights = [pulp.LpVariable(f"w_{i}", lowBound=min_weight, upBound=max_weight) 
          for i in range(n_stocks)]
```

- `weights[i]`ï¼šæŠ•èµ„äºè‚¡ç¥¨içš„èµ„é‡‘æ¯”ä¾‹
- `lowBound`å’Œ `upBound`ï¼šæƒé‡çš„ä¸Šä¸‹é™çº¦æŸ

**æ­¥éª¤3ï¼šç›®æ ‡å‡½æ•°ï¼ˆé£é™©æœ€å°åŒ–ï¼‰**

```python
# ç®€åŒ–çš„é£é™©åº¦é‡ï¼ˆçº¿æ€§è¿‘ä¼¼ï¼‰
prob += pulp.lpSum([risks[i] * weights[i] for i in range(n_stocks)])
```

- å®é™…åº”ç”¨ä¸­åº”ä½¿ç”¨äºŒæ¬¡è§„åˆ’æ±‚è§£çœŸæ­£çš„æ–¹å·®æœ€å°åŒ–

**æ­¥éª¤4ï¼šçº¦æŸæ¡ä»¶**

```python
# æƒé‡å’Œä¸º1ï¼ˆ100%æŠ•èµ„ï¼‰
prob += pulp.lpSum(weights) == 1

# è¾¾åˆ°ç›®æ ‡æ”¶ç›Šç‡
prob += pulp.lpSum([expected_returns[i] * weights[i] 
                   for i in range(n_stocks)]) >= target_return
```

### 3. ç»“æœåˆ†æ

**è®¡ç®—ç»„åˆæŒ‡æ ‡**ï¼š

```python
optimal_weights = [w.varValue for w in weights]
portfolio_return = sum(expected_returns[i] * optimal_weights[i] 
                      for i in range(n_stocks))
portfolio_risk = np.sqrt(np.dot(optimal_weights, np.dot(cov_matrix, optimal_weights)))

# å¤æ™®æ¯”ç‡ï¼ˆæ”¶ç›Šé£é™©æ¯”ï¼‰
sharpe_ratio = (portfolio_return - 0.03) / portfolio_risk  # å‡è®¾æ— é£é™©åˆ©ç‡3%
```

## å®Œæ•´è¿è¡Œæ–¹æ³•

### è¿è¡Œæ‰€æœ‰å››ä¸ªé—®é¢˜

```bash
cd å¤§è§„æ¨¡ä¼˜åŒ–
python large_scale_optimization.py
```

### å•ç‹¬è¿è¡ŒæŸä¸ªé—®é¢˜

```python
from large_scale_optimization import LargeScaleOptimization
demo = LargeScaleOptimization()

# é€‰æ‹©è¿è¡Œå…¶ä¸­ä¸€ä¸ª
demo.large_scale_linear_programming()      # å¤šäº§å“ç”Ÿäº§è®¡åˆ’
demo.large_scale_transportation()          # å…¨å›½ç‰©æµç½‘ç»œ
demo.vehicle_routing_problem()             # è½¦è¾†è·¯å¾„è§„åˆ’
demo.portfolio_optimization()              # æŠ•èµ„ç»„åˆä¼˜åŒ–
```

## ç»¼åˆè¾“å‡ºç»“æœ

è¿è¡Œå®Œæ•´ç¨‹åºåä¼šçœ‹åˆ°å››ä¸ªé—®é¢˜çš„å¯¹æ¯”ï¼š

```
ğŸ“Š ç®—æ³•æ€§èƒ½å¯¹æ¯”:
     ç®—æ³•     é—®é¢˜è§„æ¨¡ æ±‚è§£æ—¶é—´(ç§’)       ç›®æ ‡å€¼   æ´»è·ƒå˜é‡
å¤§è§„æ¨¡çº¿æ€§è§„åˆ’    50Ã—20   0.016    97,663  10/50
å¤§è§„æ¨¡è¿è¾“é—®é¢˜    15Ã—25   0.016 5,324,479 39/375
 è½¦è¾†è·¯å¾„é—®é¢˜ 20å®¢æˆ·Ã—4è½¦è¾† < 0.001     606.5    4/4
 æŠ•èµ„ç»„åˆä¼˜åŒ–     30è‚¡ç¥¨ < 0.001    10.00%   6/30
```

**ç»“æœå¯¹æ¯”åˆ†æ**ï¼š

- **çº¿æ€§è§„åˆ’**ï¼š50ç§äº§å“ä¸­åªæœ‰10ç§å€¼å¾—ç”Ÿäº§ï¼Œä½“ç°äº†èµ„æºç¨€ç¼ºæ€§
- **è¿è¾“é—®é¢˜**ï¼š375æ¡å¯èƒ½è·¯çº¿ä¸­åªæœ‰39æ¡æ´»è·ƒï¼Œç½‘ç»œé«˜åº¦ä¼˜åŒ–
- **è½¦è¾†è·¯å¾„**ï¼šä½¿ç”¨è´ªå¿ƒç®—æ³•å¿«é€Ÿæ±‚è§£ï¼Œ4è¾†è½¦å…¨éƒ¨ä½¿ç”¨
- **æŠ•èµ„ç»„åˆ**ï¼š30åªè‚¡ç¥¨ä¸­åªæœ‰6åªè·å¾—æ˜¾è‘—é…ç½®ï¼Œç¬¦åˆé›†ä¸­æŠ•èµ„åŸç†

## å¯è§†åŒ–å›¾è¡¨è¯´æ˜

ç¨‹åºç”Ÿæˆçš„ `large_scale_results.png` åŒ…å«6ä¸ªå­å›¾ï¼š

1. **äº§é‡åˆ†å¸ƒç›´æ–¹å›¾**ï¼šæ˜¾ç¤ºæ´»è·ƒäº§å“çš„äº§é‡åˆ†å¸ƒ
2. **èµ„æºåˆ©ç”¨ç‡çƒ­åŠ›å›¾**ï¼šæ˜¾ç¤ºå“ªäº›èµ„æºæ˜¯ç“¶é¢ˆï¼ˆé¢œè‰²è¶Šæ·±åˆ©ç”¨ç‡è¶Šé«˜ï¼‰
3. **è¿è¾“ç½‘ç»œå›¾**ï¼šæ˜¾ç¤ºæ´»è·ƒçš„è¿è¾“è·¯çº¿
4. **è½¦è¾†è·¯å¾„å›¾**ï¼šæ˜¾ç¤ºæ¯è¾†è½¦çš„é…é€è·¯çº¿
5. **æŠ•èµ„æƒé‡åˆ†å¸ƒ**ï¼šæ˜¾ç¤ºæŠ•èµ„ç»„åˆçš„æƒé‡åˆ†å¸ƒ
6. **é£é™©æ”¶ç›Šæ•£ç‚¹å›¾**ï¼šæ˜¾ç¤ºå„è‚¡ç¥¨çš„é£é™©æ”¶ç›Šç‰¹å¾ï¼Œæ°”æ³¡å¤§å°è¡¨ç¤ºæŠ•èµ„æƒé‡
