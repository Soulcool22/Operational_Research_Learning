# è¿è¾“é—®é¢˜ï½œä¾›åº”é“¾æˆæœ¬ä¼˜åŒ–

## é—®é¢˜èƒŒæ™¯
è¿è¾“é—®é¢˜æ˜¯è¿ç­¹å­¦ä¸­çš„ç»å…¸ä¼˜åŒ–é—®é¢˜ï¼š
- **ç‰©æµé…é€**ï¼šä»å¤šä¸ªå·¥å‚å‘å¤šä¸ªä»“åº“è¿è´§ï¼Œæ€æ ·å®‰æ’æœ€çœé’±ï¼Ÿ
- **ä¾›åº”é“¾ç®¡ç†**ï¼šåœ¨æ»¡è¶³éœ€æ±‚çš„å‰æä¸‹ï¼Œå¦‚ä½•æœ€å°åŒ–è¿è¾“æˆæœ¬ï¼Ÿ
- **èµ„æºè°ƒé…**ï¼šæœ‰é™çš„ä¾›åº”èƒ½åŠ›ï¼Œå¦‚ä½•åˆç†åˆ†é…ç»™å„ä¸ªéœ€æ±‚ç‚¹ï¼Ÿ

è¿™ä¸ªæ¨¡å—ç”¨5ä¸ªå‡½æ•°è§£å†³è¿è¾“é—®é¢˜ï¼šåŸºç¡€è¿è¾“æ±‚è§£ã€å¤šäº§å“è¿è¾“ã€å¯è§†åŒ–ã€æ•æ„Ÿæ€§åˆ†æã€æŠ¥å‘Šç”Ÿæˆã€‚

## æ ¸å¿ƒä»£ç å®ç°

### 1. åŸºç¡€è¿è¾“é—®é¢˜æ±‚è§£ï¼š`solve_basic_transportation()`

**ä½œç”¨**ï¼šåœ¨æ»¡è¶³å·¥å‚ä¾›åº”èƒ½åŠ›å’Œä»“åº“éœ€æ±‚çš„å‰æä¸‹ï¼Œè®¡ç®—ä»å„å·¥å‚åˆ°å„ä»“åº“çš„æœ€ä¼˜è¿è¾“é‡ï¼Œè®©æ€»è¿è¾“æˆæœ¬æœ€å°ã€‚

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šå®šä¹‰é—®é¢˜æ•°æ®**
```python
import pulp
import numpy as np

# å·¥å‚å’Œä»“åº“
factories = ['å·¥å‚A', 'å·¥å‚B', 'å·¥å‚C']
warehouses = ['ä»“åº“1', 'ä»“åº“2', 'ä»“åº“3', 'ä»“åº“4']

# ä¾›åº”é‡ï¼ˆæ¯ä¸ªå·¥å‚èƒ½æä¾›å¤šå°‘è´§ç‰©ï¼‰
supply = [300, 400, 500]  # å¨

# éœ€æ±‚é‡ï¼ˆæ¯ä¸ªä»“åº“éœ€è¦å¤šå°‘è´§ç‰©ï¼‰
demand = [250, 350, 400, 200]  # å¨

# è¿è¾“æˆæœ¬çŸ©é˜µï¼ˆä»å·¥å‚iåˆ°ä»“åº“jè¿è¾“1å¨è´§ç‰©çš„æˆæœ¬ï¼‰
cost_matrix = np.array([
    [8, 6, 10, 9],   # å·¥å‚Aåˆ°å„ä»“åº“çš„æˆæœ¬
    [9, 12, 13, 7],  # å·¥å‚Båˆ°å„ä»“åº“çš„æˆæœ¬
    [14, 9, 16, 5]   # å·¥å‚Cåˆ°å„ä»“åº“çš„æˆæœ¬
])
```

**æ­¥éª¤2ï¼šå¤„ç†ä¾›éœ€å¹³è¡¡**
```python
# æ£€æŸ¥ä¾›åº”é‡æ˜¯å¦ç­‰äºéœ€æ±‚é‡
total_supply = sum(supply)  # æ€»ä¾›åº”ï¼š1200å¨
total_demand = sum(demand)  # æ€»éœ€æ±‚ï¼š1200å¨

if total_supply != total_demand:
    if total_supply > total_demand:
        # ä¾›åº”è¿‡å‰©ï¼šæ·»åŠ è™šæ‹Ÿä»“åº“å¸æ”¶å¤šä½™ä¾›åº”
        demand.append(total_supply - total_demand)
        warehouses.append('è™šæ‹Ÿä»“åº“')
        # è™šæ‹Ÿä»“åº“çš„è¿è¾“æˆæœ¬ä¸º0ï¼ˆä¸äº§ç”Ÿå®é™…æˆæœ¬ï¼‰
        cost_matrix = np.column_stack([cost_matrix, np.zeros(3)])
    else:
        # éœ€æ±‚è¿‡å‰©ï¼šæ·»åŠ è™šæ‹Ÿå·¥å‚æ»¡è¶³å¤šä½™éœ€æ±‚
        supply.append(total_demand - total_supply)
        factories.append('è™šæ‹Ÿå·¥å‚')
        # è™šæ‹Ÿå·¥å‚çš„è¿è¾“æˆæœ¬ä¸º0
        cost_matrix = np.vstack([cost_matrix, np.zeros(len(warehouses))])
```

**æ­¥éª¤3ï¼šå»ºç«‹ä¼˜åŒ–æ¨¡å‹**
```python
# åˆ›å»ºæœ€å°åŒ–é—®é¢˜
prob = pulp.LpProblem("è¿è¾“é—®é¢˜", pulp.LpMinimize)

# å†³ç­–å˜é‡ï¼šx[i,j] è¡¨ç¤ºä»å·¥å‚iåˆ°ä»“åº“jçš„è¿è¾“é‡
x = {}
for i in range(len(factories)):
    for j in range(len(warehouses)):
        x[i,j] = pulp.LpVariable(f"x_{i}_{j}", lowBound=0)

# ç›®æ ‡å‡½æ•°ï¼šæœ€å°åŒ–æ€»è¿è¾“æˆæœ¬
# æ€»æˆæœ¬ = Î£(è¿è¾“é‡ Ã— å•ä½æˆæœ¬)
prob += pulp.lpSum([cost_matrix[i][j] * x[i,j] 
                   for i in range(len(factories)) 
                   for j in range(len(warehouses))])
```

**æ­¥éª¤4ï¼šæ·»åŠ çº¦æŸæ¡ä»¶**
```python
# ä¾›åº”çº¦æŸï¼šæ¯ä¸ªå·¥å‚çš„å‘è´§é‡ä¸èƒ½è¶…è¿‡å…¶ä¾›åº”èƒ½åŠ›
for i in range(len(factories)):
    prob += pulp.lpSum([x[i,j] for j in range(len(warehouses))]) == supply[i]

# éœ€æ±‚çº¦æŸï¼šæ¯ä¸ªä»“åº“çš„æ”¶è´§é‡å¿…é¡»æ»¡è¶³å…¶éœ€æ±‚
for j in range(len(warehouses)):
    prob += pulp.lpSum([x[i,j] for i in range(len(factories))]) == demand[j]
```

**æ­¥éª¤5ï¼šæ±‚è§£å’Œç»“æœåˆ†æ**
```python
# æ±‚è§£ï¼šä½¿ç”¨CBCæ±‚è§£å™¨
prob.solve(pulp.PULP_CBC_CMD(msg=0))

# è·å–æœ€ä¼˜è§£
solution_matrix = np.zeros((len(factories), len(warehouses)))
for i in range(len(factories)):
    for j in range(len(warehouses)):
        solution_matrix[i][j] = x[i,j].varValue

min_transport_cost = pulp.value(prob.objective)

print(f"æœ€å°è¿è¾“æˆæœ¬: {min_transport_cost:.2f} å…ƒ")
print("æœ€ä¼˜è¿è¾“æ–¹æ¡ˆ:")
for i in range(len(factories)):
    for j in range(len(warehouses)):
        if solution_matrix[i][j] > 0:
            print(f"  {factories[i]} â†’ {warehouses[j]}: {solution_matrix[i][j]:.1f}å¨")
```

**é€šä¿—è§£é‡Š**ï¼š
- `LpProblem()`ï¼šåˆ›å»ºä¼˜åŒ–é—®é¢˜ï¼Œå‘Šè¯‰ç¨‹åºæˆ‘ä»¬è¦æœ€å°åŒ–æˆæœ¬
- `LpVariable()`ï¼šå†³ç­–å˜é‡ï¼Œæˆ‘ä»¬è¦å†³å®šçš„è¿è¾“é‡
- `lpSum()`ï¼šæ±‚å’Œå‡½æ•°ï¼Œè®¡ç®—æ€»æˆæœ¬æˆ–æ€»è¿è¾“é‡
- `lowBound=0`ï¼šè¿è¾“é‡ä¸èƒ½æ˜¯è´Ÿæ•°
- è™šæ‹ŸèŠ‚ç‚¹ï¼šå½“ä¾›éœ€ä¸å¹³è¡¡æ—¶ï¼Œæ·»åŠ è™šæ‹Ÿå·¥å‚æˆ–ä»“åº“æ¥å¹³è¡¡

### 2. å¤šäº§å“è¿è¾“é—®é¢˜ï¼š`solve_multi_product_transportation()`

**ä½œç”¨**ï¼šå¤„ç†å¤šç§äº§å“åŒæ—¶è¿è¾“çš„å¤æ‚æƒ…å†µï¼Œæ¯ä¸ªå·¥å‚å¯ä»¥ç”Ÿäº§å¤šç§äº§å“ï¼Œæ¯ä¸ªå¸‚åœºå¯¹å¤šç§äº§å“éƒ½æœ‰éœ€æ±‚ã€‚

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šå®šä¹‰å¤šç»´æ•°æ®**
```python
# å·¥å‚ã€äº§å“ã€å¸‚åœº
factories = ['å·¥å‚X', 'å·¥å‚Y']
products = ['äº§å“P1', 'äº§å“P2']
markets = ['å¸‚åœºM1', 'å¸‚åœºM2', 'å¸‚åœºM3']

# å„å·¥å‚å„äº§å“çš„ä¾›åº”é‡ï¼ˆäºŒç»´æ•°ç»„ï¼‰
supply_matrix = np.array([
    [200, 150],  # å·¥å‚Xçš„P1, P2ä¾›åº”é‡
    [180, 220]   # å·¥å‚Yçš„P1, P2ä¾›åº”é‡
])

# å„å¸‚åœºå„äº§å“çš„éœ€æ±‚é‡ï¼ˆäºŒç»´æ•°ç»„ï¼‰
demand_matrix = np.array([
    [120, 100],  # å¸‚åœºM1çš„P1, P2éœ€æ±‚é‡
    [140, 130],  # å¸‚åœºM2çš„P1, P2éœ€æ±‚é‡
    [120, 140]   # å¸‚åœºM3çš„P1, P2éœ€æ±‚é‡
])

# è¿è¾“æˆæœ¬çŸ©é˜µï¼ˆä¸‰ç»´æ•°ç»„ï¼šå·¥å‚Ã—äº§å“Ã—å¸‚åœºï¼‰
cost_tensor = np.array([
    [[5, 7, 6],   # å·¥å‚Xçš„P1åˆ°å„å¸‚åœº
     [6, 8, 7]],  # å·¥å‚Xçš„P2åˆ°å„å¸‚åœº
    [[8, 6, 9],   # å·¥å‚Yçš„P1åˆ°å„å¸‚åœº
     [7, 5, 8]]   # å·¥å‚Yçš„P2åˆ°å„å¸‚åœº
])
```

**æ­¥éª¤2ï¼šå»ºç«‹ä¸‰ç»´å†³ç­–å˜é‡**
```python
# å†³ç­–å˜é‡ï¼šx[i,p,j] è¡¨ç¤ºå·¥å‚içš„äº§å“pè¿åˆ°å¸‚åœºjçš„æ•°é‡
x = {}
for i in range(len(factories)):
    for p in range(len(products)):
        for j in range(len(markets)):
            x[i,p,j] = pulp.LpVariable(f"x_{i}_{p}_{j}", lowBound=0)

# ç›®æ ‡å‡½æ•°ï¼šæœ€å°åŒ–æ€»è¿è¾“æˆæœ¬
prob += pulp.lpSum([cost_tensor[i][p][j] * x[i,p,j] 
                   for i in range(len(factories))
                   for p in range(len(products))
                   for j in range(len(markets))])
```

**æ­¥éª¤3ï¼šæ·»åŠ å¤šç»´çº¦æŸ**
```python
# ä¾›åº”çº¦æŸï¼šæ¯ä¸ªå·¥å‚æ¯ç§äº§å“çš„ä¾›åº”é™åˆ¶
for i in range(len(factories)):
    for p in range(len(products)):
        prob += pulp.lpSum([x[i,p,j] for j in range(len(markets))]) <= supply_matrix[i][p]

# éœ€æ±‚çº¦æŸï¼šæ¯ä¸ªå¸‚åœºæ¯ç§äº§å“çš„éœ€æ±‚æ»¡è¶³
for j in range(len(markets)):
    for p in range(len(products)):
        prob += pulp.lpSum([x[i,p,j] for i in range(len(factories))]) >= demand_matrix[j][p]
```

**é€šä¿—è§£é‡Š**ï¼š
- ä¸‰ç»´å†³ç­–å˜é‡ï¼š`x[å·¥å‚, äº§å“, å¸‚åœº]`ï¼Œæ¯”åŸºç¡€è¿è¾“é—®é¢˜å¤šäº†äº§å“ç»´åº¦
- ä¸‰ç»´æˆæœ¬çŸ©é˜µï¼šä¸åŒå·¥å‚çš„åŒç§äº§å“åˆ°åŒä¸ªå¸‚åœºçš„æˆæœ¬å¯èƒ½ä¸åŒ
- å¤šç»´çº¦æŸï¼šæ—¢è¦è€ƒè™‘å·¥å‚çš„äº§å“ä¾›åº”èƒ½åŠ›ï¼Œä¹Ÿè¦æ»¡è¶³å¸‚åœºçš„äº§å“éœ€æ±‚

### 3. ç»“æœå¯è§†åŒ–ï¼š`visualize_results()`

**ä½œç”¨**ï¼šæŠŠå¤æ‚çš„æ•°å­—ç»“æœè½¬åŒ–æˆç›´è§‚çš„çƒ­åŠ›å›¾ï¼Œæ–¹ä¾¿ç†è§£è¿è¾“æ–¹æ¡ˆã€‚

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šå‡†å¤‡å›¾è¡¨æ•°æ®**
```python
import matplotlib.pyplot as plt
import seaborn as sns

# è®¾ç½®ä¸­æ–‡å­—ä½“
setup_chinese_font()

# åˆ›å»ºåŒå­å›¾å¸ƒå±€
fig = plt.figure(figsize=(14, 6))
```

**æ­¥éª¤2ï¼šç»˜åˆ¶è¿è¾“æˆæœ¬çƒ­åŠ›å›¾**
```python
# å·¦å›¾ï¼šè¿è¾“æˆæœ¬çŸ©é˜µ
ax1 = plt.subplot(1, 2, 1)
sns.heatmap(cost_matrix, 
           xticklabels=warehouses,  # æ¨ªè½´ï¼šä»“åº“
           yticklabels=factories,   # çºµè½´ï¼šå·¥å‚
           annot=True,              # æ˜¾ç¤ºæ•°å€¼
           fmt='d',                 # æ•´æ•°æ ¼å¼
           cmap='YlOrRd',          # é»„-æ©™-çº¢è‰²ç³»
           ax=ax1)
ax1.set_title('è¿è¾“æˆæœ¬çŸ©é˜µ (å…ƒ/å¨)', fontsize=14, fontweight='bold')
```

**æ­¥éª¤3ï¼šç»˜åˆ¶æœ€ä¼˜è¿è¾“æ–¹æ¡ˆçƒ­åŠ›å›¾**
```python
# å³å›¾ï¼šæœ€ä¼˜è¿è¾“æ–¹æ¡ˆ
ax2 = plt.subplot(1, 2, 2)
sns.heatmap(solution_matrix, 
           xticklabels=warehouses,
           yticklabels=factories,
           annot=True,              # æ˜¾ç¤ºè¿è¾“é‡æ•°å€¼
           fmt='.1f',              # ä¿ç•™1ä½å°æ•°
           cmap='Blues',           # è“è‰²ç³»
           ax=ax2)
ax2.set_title('æœ€ä¼˜è¿è¾“æ–¹æ¡ˆ (å¨)', fontsize=14, fontweight='bold')
```

**æ­¥éª¤4ï¼šä¿å­˜å›¾è¡¨**
```python
plt.tight_layout()
plt.savefig('transportation_results.png', dpi=300, bbox_inches='tight')
plt.close()
```

**é€šä¿—è§£é‡Š**ï¼š
- `heatmap()`ï¼šçƒ­åŠ›å›¾å‡½æ•°ï¼Œé¢œè‰²æ·±æµ…è¡¨ç¤ºæ•°å€¼å¤§å°
- `annot=True`ï¼šåœ¨æ¯ä¸ªæ ¼å­é‡Œæ˜¾ç¤ºå…·ä½“æ•°å€¼
- `cmap='YlOrRd'`ï¼šé¢œè‰²æ˜ å°„ï¼Œæˆæœ¬ç”¨æš–è‰²ç³»ï¼ˆçº¢è‰²è¡¨ç¤ºé«˜æˆæœ¬ï¼‰
- `cmap='Blues'`ï¼šè¿è¾“é‡ç”¨å†·è‰²ç³»ï¼ˆæ·±è“è¡¨ç¤ºå¤§è¿è¾“é‡ï¼‰
- å¯¹æ¯”ä¸¤å›¾ï¼šå¯ä»¥çœ‹å‡ºæ˜¯å¦é€‰æ‹©äº†ä½æˆæœ¬è·¯çº¿

### 4. æˆæœ¬æ•æ„Ÿæ€§åˆ†æï¼š`cost_sensitivity_analysis()`

**ä½œç”¨**ï¼šåˆ†æå½“è¿è¾“æˆæœ¬å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯¹æ€»æˆæœ¬çš„å½±å“ç¨‹åº¦ã€‚

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šè¯†åˆ«å…³é”®è·¯çº¿**
```python
# åˆ†æå‰3æ¡ä¸»è¦è¿è¾“è·¯çº¿
main_routes = basic['route_details'][:3]

for route in main_routes:
    print(f"\n{route['from']} â†’ {route['to']} è·¯çº¿:")
    
    # åˆ†ææˆæœ¬å˜åŒ–çš„å½±å“
    for cost_change in [-20, -10, 10, 20]:  # æˆæœ¬å˜åŒ–ç™¾åˆ†æ¯”
        # è®¡ç®—æˆæœ¬å˜åŒ–å¯¹æ€»æˆæœ¬çš„å½±å“
        cost_impact = route['total_cost'] * cost_change / 100
        new_total_cost = base_cost + cost_impact
        
        print(f"  æˆæœ¬{cost_change:+d}% â†’ é¢„ä¼°æ€»æˆæœ¬: {new_total_cost:.2f} å…ƒ")
```

**é€šä¿—è§£é‡Š**ï¼š
- æ•æ„Ÿæ€§åˆ†æï¼šçœ‹çœ‹å“ªæ¡è·¯çº¿çš„æˆæœ¬å˜åŒ–å¯¹æ€»æˆæœ¬å½±å“æœ€å¤§
- æ­£å˜åŒ–ï¼šæˆæœ¬ä¸Šæ¶¨æ—¶æ€»æˆæœ¬å¢åŠ å¤šå°‘
- è´Ÿå˜åŒ–ï¼šæˆæœ¬ä¸‹é™æ—¶æ€»æˆæœ¬å‡å°‘å¤šå°‘
- å®é™…åº”ç”¨ï¼šå¸®åŠ©è¯†åˆ«éœ€è¦é‡ç‚¹å…³æ³¨çš„è¿è¾“è·¯çº¿

### 5. æŠ¥å‘Šç”Ÿæˆï¼š`generate_report()`

**ä½œç”¨**ï¼šæŠŠæŠ€æœ¯ç»“æœè½¬åŒ–æˆç®¡ç†è¯­è¨€ï¼Œç”Ÿæˆä¸šåŠ¡å†³ç­–æŠ¥å‘Šã€‚

**å…³é”®ä»£ç æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šåŸºç¡€ç»Ÿè®¡ä¿¡æ¯**
```python
print("ğŸ“‹ è¿è¾“é—®é¢˜ä¼˜åŒ–æŠ¥å‘Š")
print(f"æœ€å°è¿è¾“æˆæœ¬: {basic['min_cost']:.2f} å…ƒ")

# è®¡ç®—è¿è¾“æ•ˆç‡æŒ‡æ ‡
total_quantity = sum(detail['quantity'] for detail in basic['route_details'])
avg_cost = basic['min_cost'] / total_quantity

print(f"æ€»è¿è¾“é‡: {total_quantity:.1f} å¨")
print(f"å¹³å‡è¿è¾“æˆæœ¬: {avg_cost:.2f} å…ƒ/å¨")
print(f"æ´»è·ƒè·¯çº¿æ•°: {len(basic['route_details'])}")
```

**æ­¥éª¤2ï¼šè·¯çº¿æˆæœ¬åˆ†æ**
```python
# æ‰¾å‡ºæœ€é«˜æˆæœ¬å’Œæœ€ä½æˆæœ¬çš„è·¯çº¿
max_cost_route = max(basic['route_details'], key=lambda x: x['unit_cost'])
min_cost_route = min(basic['route_details'], key=lambda x: x['unit_cost'])

print(f"æœ€é«˜æˆæœ¬è·¯çº¿: {max_cost_route['from']} â†’ {max_cost_route['to']} "
      f"({max_cost_route['unit_cost']} å…ƒ/å¨)")
print(f"æœ€ä½æˆæœ¬è·¯çº¿: {min_cost_route['from']} â†’ {min_cost_route['to']} "
      f"({min_cost_route['unit_cost']} å…ƒ/å¨)")
```

**æ­¥éª¤3ï¼šä¼˜åŒ–å»ºè®®**
```python
# åŸºäºæˆæœ¬åˆ†æç»™å‡ºå»ºè®®
high_cost_routes = [r for r in basic['route_details'] if r['unit_cost'] > 10]
if high_cost_routes:
    print("å»ºè®®ï¼šè€ƒè™‘ä¼˜åŒ–é«˜æˆæœ¬è·¯çº¿ï¼Œå¯»æ‰¾æ›¿ä»£è¿è¾“æ–¹æ¡ˆ")

low_cost_routes = [r for r in basic['route_details'] if r['unit_cost'] < 8]
if low_cost_routes:
    print("å»ºè®®ï¼šå……åˆ†åˆ©ç”¨ä½æˆæœ¬è·¯çº¿ï¼Œæé«˜è¿è¾“æ•ˆç‡")
```

**é€šä¿—è§£é‡Š**ï¼š
- æŠŠæ•°å­—ç»“æœè½¬åŒ–æˆæ–‡å­—æè¿°
- è¯†åˆ«å…³é”®è·¯çº¿å’Œä¼˜åŒ–æœºä¼š
- ç»™å‡ºå…·ä½“çš„ç®¡ç†å»ºè®®

## è¿è¡Œæ–¹æ³•

### è¿è¡Œæ‰€æœ‰åŠŸèƒ½
```bash
cd è¿è¾“é—®é¢˜
python transportation_problem_demo.py
```

### å•ç‹¬è¿è¡ŒæŸä¸ªåŠŸèƒ½
```python
from transportation_problem_demo import TransportationProblemDemo
demo = TransportationProblemDemo()

# é€‰æ‹©è¿è¡Œå…¶ä¸­ä¸€ä¸ª
solution, cost = demo.solve_basic_transportation()        # åŸºç¡€è¿è¾“
multi_cost = demo.solve_multi_product_transportation()    # å¤šäº§å“è¿è¾“
demo.visualize_results()                                  # å¯è§†åŒ–
demo.cost_sensitivity_analysis()                         # æ•æ„Ÿæ€§åˆ†æ
demo.generate_report()                                    # ç”ŸæˆæŠ¥å‘Š
```

## è¾“å‡ºç»“æœè¯´æ˜

### æ§åˆ¶å°è¾“å‡º
è¿è¡Œåä¼šæ˜¾ç¤ºè¯¦ç»†çš„æ±‚è§£è¿‡ç¨‹å’Œç»“æœï¼š

**åŸºç¡€è¿è¾“é—®é¢˜æ±‚è§£**ï¼š
```
ğŸš› åŸºç¡€è¿è¾“é—®é¢˜ - ä¾›åº”é“¾ä¼˜åŒ–
ä¾›éœ€ä¿¡æ¯:
å·¥å‚ä¾›åº”é‡: {'å·¥å‚A': 300, 'å·¥å‚B': 400, 'å·¥å‚C': 500}
ä»“åº“éœ€æ±‚é‡: {'ä»“åº“1': 250, 'ä»“åº“2': 350, 'ä»“åº“3': 400, 'ä»“åº“4': 200}
æ€»ä¾›åº”é‡: 1200 å¨
æ€»éœ€æ±‚é‡: 1200 å¨

è¿è¾“æˆæœ¬çŸ©é˜µ (å…ƒ/å¨):
        ä»“åº“1  ä»“åº“2  ä»“åº“3  ä»“åº“4
å·¥å‚A      8      6     10      9
å·¥å‚B      9     12     13      7
å·¥å‚C     14      9     16      5

âœ… æœ€ä¼˜è¿è¾“æ–¹æ¡ˆ:
        ä»“åº“1  ä»“åº“2  ä»“åº“3  ä»“åº“4
å·¥å‚A    0.0  300.0    0.0    0.0
å·¥å‚B  250.0    0.0    0.0  150.0
å·¥å‚C    0.0   50.0  400.0   50.0

æœ€å°è¿è¾“æˆæœ¬: 6200.00 å…ƒ

ğŸ›£ï¸ ä¸»è¦è¿è¾“è·¯çº¿:
  å·¥å‚A â†’ ä»“åº“2: 300.0å¨, æˆæœ¬: 1800.00å…ƒ
  å·¥å‚B â†’ ä»“åº“1: 250.0å¨, æˆæœ¬: 2250.00å…ƒ
  å·¥å‚B â†’ ä»“åº“4: 150.0å¨, æˆæœ¬: 1050.00å…ƒ
  å·¥å‚C â†’ ä»“åº“2: 50.0å¨, æˆæœ¬: 450.00å…ƒ
  å·¥å‚C â†’ ä»“åº“3: 400.0å¨, æˆæœ¬: 6400.00å…ƒ
  å·¥å‚C â†’ ä»“åº“4: 50.0å¨, æˆæœ¬: 250.00å…ƒ
```

**å¤šäº§å“è¿è¾“é—®é¢˜**ï¼š
```
ğŸ“¦ å¤šäº§å“è¿è¾“é—®é¢˜
ä¾›åº”ä¿¡æ¯:
        äº§å“P1  äº§å“P2
å·¥å‚X      200     150
å·¥å‚Y      180     220

éœ€æ±‚ä¿¡æ¯:
        äº§å“P1  äº§å“P2
å¸‚åœºM1      120     100
å¸‚åœºM2      140     130
å¸‚åœºM3      120     140

âœ… æœ€ä¼˜è¿è¾“æ–¹æ¡ˆ:
  æœ€å°è¿è¾“æˆæœ¬: 2280.00 å…ƒ

ğŸ›£ï¸ è¿è¾“è·¯çº¿è¯¦æƒ…:
  å·¥å‚X äº§å“P1 â†’ å¸‚åœºM1: 120.0å•ä½, æˆæœ¬: 600.00å…ƒ
  å·¥å‚X äº§å“P1 â†’ å¸‚åœºM3: 80.0å•ä½, æˆæœ¬: 480.00å…ƒ
  å·¥å‚X äº§å“P2 â†’ å¸‚åœºM1: 100.0å•ä½, æˆæœ¬: 600.00å…ƒ
  å·¥å‚X äº§å“P2 â†’ å¸‚åœºM2: 50.0å•ä½, æˆæœ¬: 400.00å…ƒ
  å·¥å‚Y äº§å“P1 â†’ å¸‚åœºM2: 140.0å•ä½, æˆæœ¬: 840.00å…ƒ
  å·¥å‚Y äº§å“P1 â†’ å¸‚åœºM3: 40.0å•ä½, æˆæœ¬: 360.00å…ƒ
  å·¥å‚Y äº§å“P2 â†’ å¸‚åœºM2: 80.0å•ä½, æˆæœ¬: 400.00å…ƒ
  å·¥å‚Y äº§å“P2 â†’ å¸‚åœºM3: 140.0å•ä½, æˆæœ¬: 1120.00å…ƒ
```

**ä¼˜åŒ–æŠ¥å‘Š**ï¼š
```
ğŸ“‹ è¿è¾“é—®é¢˜ä¼˜åŒ–æŠ¥å‘Š
ğŸš› åŸºç¡€è¿è¾“é—®é¢˜:
  â€¢ ä¼˜åŒ–ç›®æ ‡: æœ€å°åŒ–è¿è¾“æˆæœ¬
  â€¢ å·¥å‚æ•°é‡: 3
  â€¢ ä»“åº“æ•°é‡: 4
  â€¢ æœ€å°è¿è¾“æˆæœ¬: 6200.00 å…ƒ

ğŸ“Š è¿è¾“æ–¹æ¡ˆç»Ÿè®¡:
  â€¢ æ€»è¿è¾“é‡: 1200.0 å¨
  â€¢ å¹³å‡è¿è¾“æˆæœ¬: 5.17 å…ƒ/å¨
  â€¢ æ´»è·ƒè·¯çº¿æ•°: 6

ğŸ’° è·¯çº¿æˆæœ¬åˆ†æ:
  â€¢ æœ€é«˜æˆæœ¬è·¯çº¿: å·¥å‚C â†’ ä»“åº“3 (16 å…ƒ/å¨)
  â€¢ æœ€ä½æˆæœ¬è·¯çº¿: å·¥å‚C â†’ ä»“åº“4 (5 å…ƒ/å¨)

ğŸ’¡ ä¼˜åŒ–å»ºè®®:
  â€¢ è€ƒè™‘ä¼˜åŒ–é«˜æˆæœ¬è·¯çº¿ï¼Œå¯»æ‰¾æ›¿ä»£è¿è¾“æ–¹æ¡ˆ
  â€¢ å……åˆ†åˆ©ç”¨ä½æˆæœ¬è·¯çº¿ï¼Œæé«˜è¿è¾“æ•ˆç‡
```

### å›¾è¡¨æ–‡ä»¶
è¿è¡Œåä¼šç”Ÿæˆ `transportation_results.png` æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

**è¿è¾“æˆæœ¬çŸ©é˜µçƒ­åŠ›å›¾**ï¼ˆå·¦å›¾ï¼‰ï¼š
- æ¨ªè½´ï¼šä»“åº“ï¼ˆä»“åº“1ã€ä»“åº“2ã€ä»“åº“3ã€ä»“åº“4ï¼‰
- çºµè½´ï¼šå·¥å‚ï¼ˆå·¥å‚Aã€å·¥å‚Bã€å·¥å‚Cï¼‰
- é¢œè‰²ï¼šæš–è‰²ç³»ï¼Œçº¢è‰²è¡¨ç¤ºé«˜æˆæœ¬ï¼Œé»„è‰²è¡¨ç¤ºä½æˆæœ¬
- æ•°å€¼ï¼šæ¯ä¸ªæ ¼å­æ˜¾ç¤ºå•ä½è¿è¾“æˆæœ¬ï¼ˆå…ƒ/å¨ï¼‰

**æœ€ä¼˜è¿è¾“æ–¹æ¡ˆçƒ­åŠ›å›¾**ï¼ˆå³å›¾ï¼‰ï¼š
- æ¨ªè½´ï¼šä»“åº“
- çºµè½´ï¼šå·¥å‚
- é¢œè‰²ï¼šå†·è‰²ç³»ï¼Œæ·±è“è¡¨ç¤ºå¤§è¿è¾“é‡ï¼Œæµ…è“è¡¨ç¤ºå°è¿è¾“é‡
- æ•°å€¼ï¼šæ¯ä¸ªæ ¼å­æ˜¾ç¤ºå®é™…è¿è¾“é‡ï¼ˆå¨ï¼‰

## ç®—æ³•åŸç†ç®€ä»‹

### è¿è¾“é—®é¢˜åŸºæœ¬æ¦‚å¿µ
- **ä¾›åº”ç‚¹**ï¼šæœ‰è´§ç‰©å¯ä»¥å‘å‡ºçš„åœ°ç‚¹ï¼ˆå·¥å‚ï¼‰
- **éœ€æ±‚ç‚¹**ï¼šéœ€è¦æ¥æ”¶è´§ç‰©çš„åœ°ç‚¹ï¼ˆä»“åº“ã€å¸‚åœºï¼‰
- **è¿è¾“æˆæœ¬**ï¼šä»ä¾›åº”ç‚¹åˆ°éœ€æ±‚ç‚¹è¿è¾“å•ä½è´§ç‰©çš„è´¹ç”¨
- **å¹³è¡¡é—®é¢˜**ï¼šæ€»ä¾›åº”é‡ç­‰äºæ€»éœ€æ±‚é‡

### çº¿æ€§è§„åˆ’æ–¹æ³•
- **ç›®æ ‡å‡½æ•°**ï¼šæœ€å°åŒ–æ€»è¿è¾“æˆæœ¬ = Î£(è¿è¾“é‡ Ã— å•ä½æˆæœ¬)
- **å†³ç­–å˜é‡**ï¼šå„æ¡è·¯çº¿çš„è¿è¾“é‡
- **çº¦æŸæ¡ä»¶**ï¼šä¾›åº”çº¦æŸï¼ˆä¸è¶…è¿‡ä¾›åº”èƒ½åŠ›ï¼‰+ éœ€æ±‚çº¦æŸï¼ˆæ»¡è¶³éœ€æ±‚ï¼‰
- **æœ€ä¼˜è§£**ï¼šåœ¨æ»¡è¶³æ‰€æœ‰çº¦æŸçš„å‰æä¸‹ï¼Œä½¿æ€»æˆæœ¬æœ€å°çš„è¿è¾“æ–¹æ¡ˆ

### è¿è¾“å•çº¯å½¢æ³•
- **åŸºæœ¬æ€æƒ³**ï¼šè¿è¾“é—®é¢˜çš„ç‰¹æ®Šç»“æ„ï¼Œå¯ä»¥ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•æ±‚è§£
- **åˆå§‹è§£**ï¼šç”¨è¥¿åŒ—è§’æ³•ã€æœ€å°æˆæœ¬æ³•ç­‰è·å¾—åˆå§‹å¯è¡Œè§£
- **ä¼˜åŒ–è¿‡ç¨‹**ï¼šé€šè¿‡æ£€éªŒæ•°åˆ¤æ–­æ˜¯å¦æœ€ä¼˜ï¼Œä¸æœ€ä¼˜åˆ™è°ƒæ•´è¿è¾“æ–¹æ¡ˆ
- **æ”¶æ•›æ€§**ï¼šæœ‰é™æ­¥å†…å¿…å®šæ”¶æ•›åˆ°æœ€ä¼˜è§£

### è™šæ‹ŸèŠ‚ç‚¹å¤„ç†
- **ä¾›åº”è¿‡å‰©**ï¼šæ·»åŠ è™šæ‹Ÿä»“åº“ï¼Œè¿è¾“æˆæœ¬ä¸º0ï¼Œå¸æ”¶å¤šä½™ä¾›åº”
- **éœ€æ±‚è¿‡å‰©**ï¼šæ·»åŠ è™šæ‹Ÿå·¥å‚ï¼Œè¿è¾“æˆæœ¬ä¸º0ï¼Œæ»¡è¶³å¤šä½™éœ€æ±‚
- **æ„ä¹‰**ï¼šå°†éå¹³è¡¡é—®é¢˜è½¬åŒ–ä¸ºå¹³è¡¡é—®é¢˜ï¼Œä¾¿äºæ±‚è§£

## å®é™…åº”ç”¨åœºæ™¯

### ç‰©æµé…é€ä¼˜åŒ–
- **é—®é¢˜**ï¼šå¤šä¸ªé…é€ä¸­å¿ƒå‘å¤šä¸ªå®¢æˆ·é…é€ï¼Œå¦‚ä½•å®‰æ’æœ€çœæˆæœ¬ï¼Ÿ
- **è§£å†³æ–¹æ¡ˆ**ï¼šç”¨è¿è¾“é—®é¢˜æ¨¡å‹ä¼˜åŒ–é…é€è·¯çº¿å’Œæ•°é‡

### ç”Ÿäº§è®¡åˆ’è°ƒé…
- **é—®é¢˜**ï¼šå¤šä¸ªå·¥å‚ç”Ÿäº§åŒç§äº§å“ï¼Œå¦‚ä½•åˆ†é…ç»™å„ä¸ªé”€å”®åŒºåŸŸï¼Ÿ
- **è§£å†³æ–¹æ¡ˆ**ï¼šè€ƒè™‘ç”Ÿäº§æˆæœ¬å’Œè¿è¾“æˆæœ¬ï¼Œä¼˜åŒ–æ€»ä½“é…ç½®

### èµ„æºåˆ†é…ä¼˜åŒ–
- **é—®é¢˜**ï¼šæœ‰é™çš„èµ„æºå¦‚ä½•åœ¨å¤šä¸ªé¡¹ç›®é—´åˆ†é…ï¼Ÿ
- **è§£å†³æ–¹æ¡ˆ**ï¼šå°†èµ„æºä¾›åº”å’Œé¡¹ç›®éœ€æ±‚å»ºæ¨¡ä¸ºè¿è¾“é—®é¢˜

### å¤šäº§å“ç‰©æµ
- **é—®é¢˜**ï¼šå¤šç§äº§å“åŒæ—¶é…é€ï¼Œå¦‚ä½•ç»Ÿç­¹å®‰æ’ï¼Ÿ
- **è§£å†³æ–¹æ¡ˆ**ï¼šç”¨å¤šäº§å“è¿è¾“æ¨¡å‹ï¼Œè€ƒè™‘äº§å“å·®å¼‚åŒ–æˆæœ¬

## æŠ€æœ¯è¦ç‚¹

### PuLPè¿è¾“é—®é¢˜å»ºæ¨¡
```python
import pulp

# åˆ›å»ºæœ€å°åŒ–é—®é¢˜
prob = pulp.LpProblem("è¿è¾“é—®é¢˜", pulp.LpMinimize)

# åˆ›å»ºäºŒç»´å†³ç­–å˜é‡
x = {}
for i in range(m):  # mä¸ªä¾›åº”ç‚¹
    for j in range(n):  # nä¸ªéœ€æ±‚ç‚¹
        x[i,j] = pulp.LpVariable(f"x_{i}_{j}", lowBound=0)

# ç›®æ ‡å‡½æ•°ï¼šæœ€å°åŒ–æ€»æˆæœ¬
prob += pulp.lpSum([cost[i][j] * x[i,j] for i in range(m) for j in range(n)])

# ä¾›åº”çº¦æŸ
for i in range(m):
    prob += pulp.lpSum([x[i,j] for j in range(n)]) <= supply[i]

# éœ€æ±‚çº¦æŸ
for j in range(n):
    prob += pulp.lpSum([x[i,j] for i in range(m)]) >= demand[j]

# æ±‚è§£
prob.solve()
```

### å¤šç»´æ•°ç»„å¤„ç†
```python
import numpy as np

# ä¸‰ç»´æˆæœ¬çŸ©é˜µï¼šå·¥å‚Ã—äº§å“Ã—å¸‚åœº
cost_tensor = np.array([
    [[c111, c112, c113],  # å·¥å‚1äº§å“1åˆ°å„å¸‚åœº
     [c121, c122, c123]], # å·¥å‚1äº§å“2åˆ°å„å¸‚åœº
    [[c211, c212, c213],  # å·¥å‚2äº§å“1åˆ°å„å¸‚åœº
     [c221, c222, c223]]  # å·¥å‚2äº§å“2åˆ°å„å¸‚åœº
])

# è®¿é—®ç‰¹å®šæˆæœ¬ï¼šå·¥å‚içš„äº§å“påˆ°å¸‚åœºj
unit_cost = cost_tensor[i][p][j]
```

### çƒ­åŠ›å›¾å¯è§†åŒ–
```python
import seaborn as sns
import matplotlib.pyplot as plt

# è®¾ç½®ä¸­æ–‡å­—ä½“
setup_chinese_font()

# ç»˜åˆ¶çƒ­åŠ›å›¾
sns.heatmap(data_matrix,
           xticklabels=col_labels,    # åˆ—æ ‡ç­¾
           yticklabels=row_labels,    # è¡Œæ ‡ç­¾
           annot=True,                # æ˜¾ç¤ºæ•°å€¼
           fmt='.1f',                # æ•°å€¼æ ¼å¼
           cmap='Blues',              # é¢œè‰²æ˜ å°„
           cbar_kws={'label': 'å•ä½'}) # é¢œè‰²æ¡æ ‡ç­¾

plt.title('æ ‡é¢˜', fontweight='bold')
plt.tight_layout()
plt.savefig('filename.png', dpi=300)
```

### ç»“æœåˆ†ææŠ€å·§
```python
# æå–éé›¶è¿è¾“è·¯çº¿
active_routes = []
for i in range(len(factories)):
    for j in range(len(warehouses)):
        if solution_matrix[i][j] > 0:
            active_routes.append({
                'from': factories[i],
                'to': warehouses[j],
                'quantity': solution_matrix[i][j],
                'cost': solution_matrix[i][j] * cost_matrix[i][j]
            })

# æŒ‰æˆæœ¬æ’åº
active_routes.sort(key=lambda x: x['cost'], reverse=True)

# è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡
total_cost = sum(route['cost'] for route in active_routes)
total_quantity = sum(route['quantity'] for route in active_routes)
avg_cost = total_cost / total_quantity
```

## æ‰©å±•æ€è€ƒ

### æ¨¡å‹æ”¹è¿›æ–¹å‘
1. **å®¹é‡çº¦æŸ**ï¼šè€ƒè™‘è¿è¾“å·¥å…·çš„å®¹é‡é™åˆ¶
2. **æ—¶é—´çª—çº¦æŸ**ï¼šè€ƒè™‘é…é€æ—¶é—´è¦æ±‚
3. **å¤šç›®æ ‡ä¼˜åŒ–**ï¼šåŒæ—¶è€ƒè™‘æˆæœ¬ã€æ—¶é—´ã€æœåŠ¡è´¨é‡
4. **éšæœºéœ€æ±‚**ï¼šå¤„ç†éœ€æ±‚ä¸ç¡®å®šçš„æƒ…å†µ

### å®é™…åº”ç”¨æ³¨æ„äº‹é¡¹
1. **æ•°æ®å‡†ç¡®æ€§**ï¼šç¡®ä¿æˆæœ¬æ•°æ®å’Œä¾›éœ€æ•°æ®å‡†ç¡®
2. **æ¨¡å‹éªŒè¯**ï¼šæ£€æŸ¥æ¨¡å‹ç»“æœæ˜¯å¦ç¬¦åˆå®é™…çº¦æŸ
3. **æ•æ„Ÿæ€§åˆ†æ**ï¼šäº†è§£å‚æ•°å˜åŒ–å¯¹ç»“æœçš„å½±å“
4. **å®æ–½å¯è¡Œæ€§**ï¼šè€ƒè™‘å®é™…æ“ä½œä¸­çš„é™åˆ¶æ¡ä»¶

è¿™ä¸ªè¿è¾“é—®é¢˜æ¨¡å—æŠŠå¤æ‚çš„ç‰©æµä¼˜åŒ–å˜æˆäº†å®ç”¨çš„å†³ç­–å·¥å…·ï¼Œå¸®åŠ©è§£å†³ç°å®ä¸­çš„ä¾›åº”é“¾æˆæœ¬ä¼˜åŒ–é—®é¢˜ï¼